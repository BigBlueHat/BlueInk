<div class="menu" blueink-class="transition: $parent.selected != '', visible: $parent.selected != ''">
  <div class="item">
    <a class="blueink-ui tiny primary button"
      blueink-on="click: createDoc(type)">new {{type}}</a>
  </div>
  <div class="ui divider"></div>
  <!-- items currently on this page -->
  <div class="item" blueink-repeat="items | onlyIf 'on_page' is 1" blueink-on="click: selected = id"
    blueink-class="active: selected == id">
    {{value}}
  </div>
  <div class="ui divider"></div>
  <!-- items currently on this page -->
  <div class="item" blueink-repeat="items | onlyIf 'on_page' is 0" blueink-on="click: selected = id"
    blueink-class="active: selected == id">
    {{value}}
  </div>
  <!-- preview -->
  <div class="blueink-ui vertical menu" blueink-class="transition: selected != '', visible: selected != ''" style="width: auto">
    <div class="item">
      <a class="blueink-ui tiny primary button"
        blueink-on="click: editDoc(selected)">
        edit
      </a>
      <a class="blueink-ui tiny positive button"
        blueink-if="!canHazCollection(type)"
        blueink-on="click: addToPage()">
        add to page
      </a>
      <div class="blueink-ui tiny buttons"
           style="min-width: 13em"
           blueink-if="canHazCollection(type)">
        <a class="blueink-ui positive button"
           blueink-on="click: addToPage()">
          add to page
        </a>
        <div class="or"></div>
        <a class="blueink-ui positive button"
           blueink-on="click: addToCollection(type)">
          collection
        </a>
      </div>
    </div>
    <div blueink-if="preview" class="ui basic attached segment">
      <!-- TODO: build a proper preview system leveraging types system -->
      <div blueink-component="item-preview" blueink-with="doc: preview"></div>
    </div>
  </div>
</div>
